<!DOCTYPE html>
<html>
  <head>
    <!--
      COPYRIGHT:
      LICENSE:
      NTR:
    -->
    <meta content='text/html; charset=US-ASCII' http-equiv='Content-Type'>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>
      Excalibur
    </title>
    <link href='/stylesheets/application.css' rel='stylesheet'>
  </head>
  <body data-spy='scroll' data-target='#navbar-scrollspy' id='top'>
    <nav class='navbar navbar-fixed-top navbar-inverse'>
      <div class='container'>
        <div class='navbar-header'>
          <button aria-expanded='false' class='navbar-toggle collapsed' data-target='#mobile_navigation' data-toggle='collapse' type='button'>
            <span class='sr-only'>
              Toggle navigation
            </span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </button>
          <a class='navbar-brand' href='/pages'>
            Excalibur
          </a>
        </div>
        <div class='collapse navbar-collapse' id='mobile_navigation'>
          <ul class='nav navbar-nav navbar-right' id='main_nav'>
            <li>
              <a href='/pages/about'>
                About
              </a>
            </li>
            <li>
              <a href='/pages/logs'>
                Logs
              </a>
            </li>
            <li>
              <a href='/pages/exoplanet_systems'>
                Exoplanet Systems
              </a>
            </li>
            <li class='dropdown'>
              <a aria-expanded='false' aria-haspopup='true' href='/pages/search' role='button'>
                Database
                <span class='caret'></span>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='/pages/database/primary_table'>
                    Primary Table
                  </a>
                </li>
                <li>
                  <a href='/pages/database/targets'>
                    Targets
                  </a>
                </li>
                <li>
                  <a href='/pages/database/tasks'>
                    Tasks
                  </a>
                </li>
                <li>
                  <a href='/pages/database/versions'>
                    Versions
                  </a>
                </li>
                <li class='divider' role='separator'></li>
                <li>
                  <a href='/pages/search'>
                    Search Database
                  </a>
                </li>
                <li class='divider' role='separator'></li>
                <li>
                  <a href='/pages/database/trace_report.html'>
                    Trace Report
                  </a>
                </li>
              </ul>
            </li>
            <li class='dropdown'>
              <a aria-expanded='false' aria-haspopup='true' href='/pages/tasks' role='button'>
                Dependency Trees
                <span class='caret'></span>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='/pages/tasks'>
                    Tasks
                  </a>
                </li>
                <li>
                  <a href='/pages/algorithms'>
                    Algorithms
                  </a>
                </li>
              </ul>
            </li>
            <li>
              <a href='/pages/command'>
                Command
              </a>
            </li>
            <li class='hidden' id='lock_view_button'>
              <a href='#'>
                LockView
              </a>
            </li>
            <li>
              <a href='/pages/pipelines'>
                Pipeline's State
              </a>
            </li>
            <li>
              <a href='/pages/schedule'>
                Schedule
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div id='alert-message'></div>
    <div class='container search'>
      <div class='page-header'>
        <div alt='Search Result Filters' class='input-group filter_box' title='Search Result Filters'>
          <span class='input-group-addon'>
            <span class='glyphicon glyphicon-filter'></span>
          </span>
          <div class='input-group-btn'>
            <label class='btn btn-info'>
              <input autocomplete='off' class='filter' name='filter' type='radio' value='none'>
              None
            </label>
            <label class='btn btn-info active'>
              <input autocomplete='off' checked='checked' class='filter' name='filter' type='radio' value='user'>
              User
            </label>
            <label class='btn btn-info'>
              <input autocomplete='off' class='filter' name='filter' type='radio' value='dev'>
              Dev
            </label>
            <label class='btn btn-info'>
              <input autocomplete='off' class='filter' name='filter' type='radio' value='admin'>
              Admin
            </label>
          </div>
        </div>
        <h1>
          Search Database
        </h1>
      </div>
      <div class='row'>
        <div class='col-lg-6 col-md-6 col-sm-6'>
          <label class='control-label'>State Vector</label>
          <div class='input-group search_box'>
            <input autocomplete='off' class='form-control' id='sv' placeholder='Search' required='true' type='text'>
              <span class='input-group-btn'>
                <button class='btn btn-primary' type='submit'>
                  <span class='glyphicon glyphicon-search'></span>
                </button>
              </span>
            </input>
          </div>
        </div>
        <div class='col-lg-6 col-md-6 col-sm-6'>
          <label class='control-label'>Target Name</label>
          <div class='input-group search_box'>
            <input autocomplete='off' class='form-control' id='tn' placeholder='Search' required='true' type='text'>
              <span class='input-group-btn'>
                <button class='btn btn-primary' type='submit'>
                  <span class='glyphicon glyphicon-search'></span>
                </button>
              </span>
            </input>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-lg-12 col-md-12 col-sm-12'>
          <div id='results'></div>
        </div>
      </div>
    </div>
    <div class='container'>
      <footer class='footer'>
        <nav>
          <ul>
            <li>
              <a href='/pages/about'>
                About
              </a>
            </li>
            <li>
              <a href='/pages/logs'>
                Logs
              </a>
            </li>
            <li>
              <a href='/pages/exoplanet_systems'>
                Exoplanet Systems
              </a>
            </li>
            <li>
              <a href='/pages/database'>
                Database
              </a>
            </li>
            <li>
              <a href='/pages/tasks'>
                Dependency Trees
              </a>
            </li>
            <li>
              <a href='/pages/command'>
                Command
              </a>
            </li>
            <li>
              <a href='/pages/pipelines'>
                Pipeline's State
              </a>
            </li>
            <li>
              <a href='/pages/schedule'>
                Schedule
              </a>
            </li>
          </ul>
        </nav>
      </footer>
    </div>
    <script src="/javascripts/application.js"></script>
    <script>
      $.ajax({
        url: "/app/search/completion/sv",
        type: "GET",
        success: function(result) {
          data = $.parseJSON(result);
          $('#sv').typeahead({
            hint: true,
            highlight: true,
            minLength: 1
          },
          {
            name: 'SV',
            source: substringMatcher(data)
          });
        }
      });
      $.ajax({
        url: "/app/search/completion/tn",
        type: "GET",
        success: function(result) {
          data = $.parseJSON(result);
          $('#tn').typeahead({
            hint: true,
            highlight: true,
            minLength: 1
          },
          {
            name: 'TN',
            source: substringMatcher(data)
          });
        }
      });
    </script>
    <script>
      $('#lock_view_button').removeClass(showLockView());
      if (localStorage.alert_status) {
        $("#alert-message").html (HandlebarsTemplates['alert'](localStorage));
        localStorage.removeItem("alert_status");
        localStorage.removeItem("alert_message");
      }
    </script>
  </body>
</html>
